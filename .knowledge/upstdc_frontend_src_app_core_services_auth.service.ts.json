{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service named AuthService that manages user authentication. It provides methods for login, logout, and retrieving the current user. It interacts with API and token management services.", "external_files": ["./api.service", "./token.service"], "external_methods": ["ApiService.post", "ApiService.get", "TokenService.setToken", "TokenService.clearToken", "TokenService.isAuthenticated"], "published": ["AuthService"], "classes": [{"name": "AuthService", "description": "An injectable Angular service for handling authentication, including login, logout, and retrieving the current user."}], "methods": [{"name": "login(payload: LoginPayload): Observable<AuthUser> { login", "description": "Performs login by sending credentials to the backend, retrieves token and user data, and stores the token.", "scope": "AuthService", "scopeKind": "class"}, {"name": "logout(): void { logout", "description": "Clears the authentication token, effectively logging out the user.", "scope": "AuthService", "scopeKind": "class"}, {"name": "currentUser(): Observable<AuthUser | null> { currentUser", "description": "Returns an observable with the current authenticated user or null if not authenticated.", "scope": "AuthService", "scopeKind": "class"}, {"name": "constructor(private api: ApiService, private tokens: TokenService) {} constructor", "scope": "AuthService", "scopeKind": "class", "description": "unavailable"}], "calls": ["this.api.post", "this.api.get", "this.tokens.setToken", "this.tokens.clearToken", "this.tokens.isAuthenticated"], "search-terms": ["AuthService", "login payload", "token management", "Angular service", "authentication", "Observable<AuthUser>"], "state": 2, "file_id": 33, "knowledge_revision": 73, "git_revision": "", "ctags": [{"_type": "tag", "name": "AuthService", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^export class AuthService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "AuthUser", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^export interface AuthUser {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "LoginPayload", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^export interface LoginPayload {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  constructor(private api: ApiService, private tokens: TokenService) {}$/", "language": "TypeScript", "kind": "property", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  constructor(private api: ApiService, private tokens: TokenService) {}$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "currentUser", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  currentUser(): Observable<AuthUser | null> {$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  id: string;$/", "language": "TypeScript", "kind": "property", "scope": "AuthUser", "scopeKind": "interface"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  login(payload: LoginPayload): Observable<AuthUser> {$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  logout(): void {$/", "language": "TypeScript", "kind": "method", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  name: string;$/", "language": "TypeScript", "kind": "property", "scope": "AuthUser", "scopeKind": "interface"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  password: string;$/", "language": "TypeScript", "kind": "property", "scope": "LoginPayload", "scopeKind": "interface"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  role: string;$/", "language": "TypeScript", "kind": "property", "scope": "AuthUser", "scopeKind": "interface"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^        const token = res?.token || res?.accessToken;$/", "language": "TypeScript", "kind": "constant", "scope": "AuthService.login", "scopeKind": "method"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  token: string;$/", "language": "TypeScript", "kind": "property", "scope": "AuthUser", "scopeKind": "interface"}, {"_type": "tag", "name": "tokens", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  constructor(private api: ApiService, private tokens: TokenService) {}$/", "language": "TypeScript", "kind": "property", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-monitoring-system-217467-217483/upstdc_frontend/src/app/core/services/auth.service.ts", "pattern": "/^  username: string;$/", "language": "TypeScript", "kind": "property", "scope": "LoginPayload", "scopeKind": "interface"}], "hash": "20177b0a9bd54f51f66dc6065c8b6426", "format-version": 4, "code-base-name": "upstdc_frontend", "filename": "upstdc_frontend/src/app/core/services/auth.service.ts", "fields": [{"name": "export interface AuthUser {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface LoginPayload {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "constructor(private api: ApiService, private tokens: TokenService) {}", "scope": "AuthService", "scopeKind": "class", "description": "unavailable"}, {"name": "id: string;", "scope": "AuthUser", "scopeKind": "interface", "description": "unavailable"}, {"name": "name: string;", "scope": "AuthUser", "scopeKind": "interface", "description": "unavailable"}, {"name": "password: string;", "scope": "LoginPayload", "scopeKind": "interface", "description": "unavailable"}, {"name": "role: string;", "scope": "AuthUser", "scopeKind": "interface", "description": "unavailable"}, {"name": "token: string;", "scope": "AuthUser", "scopeKind": "interface", "description": "unavailable"}, {"name": "username: string;", "scope": "LoginPayload", "scopeKind": "interface", "description": "unavailable"}], "revision_history": [{"73": ""}]}